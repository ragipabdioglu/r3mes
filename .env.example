# ============================================================================
# R3MES Environment Configuration
# ============================================================================
# Copy this file to .env and fill in your values
# NEVER commit .env to version control!
# ============================================================================

# ----------------------------------------------------------------------------
# Network Configuration
# ----------------------------------------------------------------------------
# Chain ID for the R3MES network
CHAIN_ID=remes-mainnet-1

# Blockchain RPC endpoint
RPC_URL=http://localhost:26657

# Blockchain REST API endpoint
REST_URL=http://localhost:1317

# Blockchain gRPC endpoint
GRPC_URL=localhost:9090

# ----------------------------------------------------------------------------
# Wallet Configuration
# ----------------------------------------------------------------------------
# Your 24-word mnemonic phrase (KEEP THIS SECRET!)
# Generate a new one with: remesd keys add mykey --keyring-backend os
MNEMONIC="your twenty four word mnemonic phrase goes here keep it secret and safe"

# Wallet address (derived from mnemonic)
# WALLET_ADDRESS=remes1...

# ----------------------------------------------------------------------------
# Model Configuration
# ----------------------------------------------------------------------------
# Model loading priority: IPFS -> HuggingFace -> Local
# At least one of these should be set

# IPFS Model Configuration (Primary for decentralized models)
# Model IPFS hash (CID) - downloaded from IPFS gateways
R3MES_MODEL_IPFS_HASH=
# Expected SHA256 checksum for verification (MANDATORY for security)
R3MES_MODEL_CHECKSUM=

# HuggingFace Model Configuration (Primary for public models)
# HuggingFace model name (e.g., "microsoft/bitnet-b1.58-3B")
R3MES_MODEL_NAME=

# Local Model Path (Fallback)
# Path to the AI model directory
BASE_MODEL_PATH=./models/llama-3-8b

# Model version
MODEL_VERSION=v1.0.0

# ----------------------------------------------------------------------------
# IPFS Configuration
# ----------------------------------------------------------------------------
# IPFS API URL (for uploads - requires local daemon)
IPFS_API_URL=/ip4/127.0.0.1/tcp/5001

# IPFS Gateway URL (for downloads - can be public gateway)
IPFS_GATEWAY_URL=https://ipfs.io/ipfs/

# Use public IPFS gateways as fallback (true/false)
IPFS_USE_PUBLIC_GATEWAYS=true

# Custom public gateways (comma-separated, optional)
# IPFS_PUBLIC_GATEWAYS=https://gateway.pinata.cloud,https://cloudflare-ipfs.com

# IPFS download timeout in seconds
BACKEND_IPFS_DOWNLOAD_TIMEOUT=3600

# ----------------------------------------------------------------------------
# Mining Configuration
# ----------------------------------------------------------------------------
# Enable/disable mining
MINING_ENABLED=true

# GPU device ID (use -1 for CPU)
GPU_DEVICE=0

# Maximum GPU memory usage (percentage)
GPU_MEMORY_LIMIT=80

# Batch size for training
BATCH_SIZE=32

# Learning rate
LEARNING_RATE=0.0001

# ----------------------------------------------------------------------------
# Backend Configuration
# ----------------------------------------------------------------------------
# Backend API URL
BACKEND_URL=http://localhost:8000

# Backend environment (development, staging, production)
R3MES_ENV=development

# Database type (sqlite, postgresql)
DATABASE_TYPE=sqlite

# PostgreSQL connection (if DATABASE_TYPE=postgresql)
# DATABASE_URL=postgresql://user:password@localhost:5432/r3mes

# Redis URL (optional, for caching)
# REDIS_URL=redis://localhost:6379/0

# ----------------------------------------------------------------------------
# Frontend Configuration
# ----------------------------------------------------------------------------
# Frontend URL
FRONTEND_URL=http://localhost:3000

# Public API URL (for frontend)
NEXT_PUBLIC_API_URL=http://localhost:8000

# Public RPC URL (for frontend)
NEXT_PUBLIC_RPC_URL=http://localhost:26657

# ----------------------------------------------------------------------------
# Security Configuration
# ----------------------------------------------------------------------------
# API secret key (generate with: openssl rand -hex 32)
API_SECRET_KEY=your-secret-key-here

# JWT Configuration
# JWT RSA private key path (for production)
# JWT_PRIVATE_KEY_PATH=/path/to/private_key.pem
# JWT_PUBLIC_KEY_PATH=/path/to/public_key.pem

# JWT token expiration times
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=15
JWT_REFRESH_TOKEN_EXPIRE_DAYS=30

# JWT issuer and audience
JWT_ISSUER=r3mes-backend
JWT_AUDIENCE=r3mes-api

# CORS allowed origins (comma-separated)
CORS_ORIGINS=http://localhost:3000,http://localhost:8000

# Rate limiting (requests per minute)
RATE_LIMIT=100

# ----------------------------------------------------------------------------
# Database & Cache Configuration
# ----------------------------------------------------------------------------
# PostgreSQL connection
DATABASE_URL=postgresql://r3mes:password@localhost:5432/r3mes

# Redis URL (for caching and JWT blacklist)
REDIS_URL=redis://localhost:6379/0

# ----------------------------------------------------------------------------
# Secrets Management (Production)
# ----------------------------------------------------------------------------
# Secrets provider: env, file, aws, vault, azure
SECRETS_PROVIDER=env

# AWS Secrets Manager (if SECRETS_PROVIDER=aws)
# AWS_REGION=us-east-1
# AWS_SECRET_NAME=r3mes/production

# HashiCorp Vault (if SECRETS_PROVIDER=vault)
# VAULT_ADDR=https://vault.example.com
# VAULT_TOKEN=your-vault-token
# VAULT_SECRET_PATH=secret/r3mes

# Azure Key Vault (if SECRETS_PROVIDER=azure)
# AZURE_VAULT_URL=https://your-vault.vault.azure.net/
# AZURE_CLIENT_ID=your-client-id
# AZURE_CLIENT_SECRET=your-client-secret
# AZURE_TENANT_ID=your-tenant-id

# ----------------------------------------------------------------------------
# Monitoring Configuration
# ----------------------------------------------------------------------------
# Enable metrics collection
METRICS_ENABLED=true

# Prometheus metrics port
METRICS_PORT=9090

# Sentry DSN (optional, for error tracking)
# SENTRY_DSN=https://xxx@sentry.io/xxx

# Log level (DEBUG, INFO, WARNING, ERROR)
LOG_LEVEL=INFO

# ----------------------------------------------------------------------------
# Feature Flags
# ----------------------------------------------------------------------------
# Enable semantic router for inference
USE_SEMANTIC_ROUTER=true

# Enable faucet (testnet only!)
FAUCET_ENABLED=false

# Enable debug mode
DEBUG_MODE=false
