# R3MES Backend API Dependencies (GPU-less deployment)
# Use this file for Validator/Proposer nodes that don't need local inference

# FastAPI and server
fastapi==0.104.1
uvicorn[standard]==0.24.0
pydantic==2.5.0
pydantic-settings>=2.0.0
python-multipart>=0.0.6
websockets>=12.0
starlette>=0.27.0

# Database
aiosqlite>=0.19.0
asyncpg>=0.29.0
psycopg2-binary>=2.9.9
sqlalchemy>=2.0.0
alembic>=1.13.0

# Utilities
python-dotenv==1.0.0

# Rate Limiting
slowapi==0.1.9

# Caching
redis[hiredis]>=5.0.0

# Monitoring
prometheus-client>=0.19.0
sentry-sdk[fastapi]>=1.38.0
psutil>=5.9.0

# Distributed Tracing
opentelemetry-api>=1.21.0
opentelemetry-sdk>=1.21.0
opentelemetry-instrumentation-fastapi>=0.42b0
opentelemetry-instrumentation-requests>=0.42b0
opentelemetry-instrumentation-httpx>=0.42b0
opentelemetry-instrumentation-redis>=0.42b0
opentelemetry-instrumentation-sqlite3>=0.42b0
opentelemetry-instrumentation-asyncpg>=0.42b0
opentelemetry-exporter-otlp-proto-grpc>=1.21.0
opentelemetry-exporter-jaeger-thrift>=1.21.0

# HTTP Clients
grpcio>=1.60.0
requests>=2.31.0
httpx>=0.25.0
aiohttp>=3.9.0

# Security
python-jose[cryptography]>=3.3.0
passlib[bcrypt]>=1.7.4
cryptography>=41.0.0

# Async utilities
anyio>=3.7.1,<4.0.0
asyncio-throttle>=1.0.0

# JSON handling
orjson>=3.9.0
ujson>=5.8.0

# Secret Management
google-cloud-secret-manager>=2.18.0
boto3>=1.28.0
hvac>=1.2.0

# NOTE: This file excludes GPU dependencies:
# - torch, transformers, peft, bitsandbytes, accelerate
# - sentence-transformers (uses KeywordRouter fallback instead)
# - numpy (only needed for semantic router)
#
# Set R3MES_INFERENCE_MODE=remote or R3MES_INFERENCE_MODE=disabled
