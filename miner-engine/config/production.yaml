# R3MES Miner Engine - Production Configuration
# This file contains production-optimized settings

# Production overrides
development:
  test_mode: false
  mock_blockchain: false
  mock_ipfs: false
  enable_debug_endpoints: false
  hot_reload_config: false

# Blockchain (mainnet)
blockchain:
  url: "mainnet.remes.network:9090"
  chain_id: "remes-1"
  timeout_seconds: 60
  retry_attempts: 5
  retry_delay_seconds: 2

# Performance (optimized for production)
performance:
  max_memory_mb: 16384
  gpu_memory_fraction: 0.9
  enable_mixed_precision: true
  enable_gradient_checkpointing: true
  num_workers: 8
  prefetch_factor: 4

# Mining (production batch sizes)
mining:
  batch_size: 8
  max_prefetch_tasks: 20
  gradient_accumulation_steps: 8
  enable_gradient_compression: true
  compression_ratio: 0.05

# Model (full size)
model:
  hidden_size: 768
  max_model_size_gb: 16

# Logging (production level)
logging:
  level: "INFO"
  format: "structured"
  output: "file"
  file_path: "/var/log/r3mes/miner-engine.log"
  max_file_size_mb: 500
  backup_count: 10
  enable_performance_logging: false

# Monitoring (production monitoring)
monitoring:
  enable_dashboard: true
  dashboard_host: "0.0.0.0"
  dashboard_port: 8080
  collection_interval_seconds: 2.0
  history_size: 5000

# Network (production ports)
network:
  ipfs_url: "http://ipfs.remes.network:5001"
  stats_port: 8080
  monitoring_port: 8081
  arrow_flight_port: 8082
  timeout_seconds: 60
  max_retries: 5

# Privacy (enabled for production)
privacy:
  enable_sgx: true
  sgx_debug_mode: false
  enable_gradient_encryption: true

# Security (TLS enabled)
security:
  enable_tls: true
  verify_ssl: true

# Cache (production cache sizes)
cache:
  max_cache_size_mb: 4096
  max_adapters_in_memory: 20
  cache_cleanup_interval_seconds: 1800

# Task Processing (production settings)
tasks:
  chunk_size: 2048
  max_chunk_size: 8192
  processing_timeout_seconds: 600
  max_chunk_retries: 5

# Serving Node (production serving)
serving:
  max_concurrent_requests: 50
  request_timeout_seconds: 60
  enable_batching: true
  max_batch_size: 16
  batch_timeout_ms: 50

# Proposer (production aggregation)
proposer:
  aggregation_interval_seconds: 30
  min_gradients_for_aggregation: 10
  max_gradients_per_aggregation: 200